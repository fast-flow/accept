<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>html5 input accept属性兼容性测试 (20170525)</title>
	<style>
		.error {color:red;}
		.info {color: blue;}
		table {
			border-collapse: collapse;
		    border: 1px solid #ccc;
		    text-align: left;
		    width: 100%;
		}
		table th {
			text-align: left;
		    border: 1px solid #ccc;
		    line-height: 18px;
		    font-size: 14px;
		    font-weight: bold;
		    color: #000;
		}
		table td {
			text-align: left;
		    border: 1px solid #ccc;
		    line-height: 18px;
		    font-size: 12px;
		    color: #666;
		}
		caption {
			text-align: right;
		    line-height: 22px;
		    font-size: 12px;
		    color: #666;
		}
	</style>
</head>
<body>

	<h2> html5 input accept ( 测试于20170523 )</h2>

	<hr/>
	<div class="error">
		Notice:<br />
		accept="--/*" chrome会有6秒左右延迟, 采用详细枚举的方式
	</div>
	<table>
		<caption>支持文件格式为空即默认支持.**文件格式 或/后结尾文件格式</caption>
		<thead>
			<tr>
				<th>序号</th>
				<th>测试内容</th>
				<th>测试</th>
				<th colspan="2">chrome</th>
				<th colspan="2">safari</th>
				<th colspan="2">firefox</th>
			</tr>
			<tr>
				<th width="2%"></th>
				<th width="8%"></th>
				<th width="14%"></th>
				<th width="11%">支持文件格式</th>
				<th width="11%">备注</th>
				<th width="11%">支持文件格式</th>
				<th width="11%">备注</th>
				<th width="11%">支持文件格式</th>
				<th width="11%">备注</th>
			</tr>
		</thead>
		<tbody id="tbody">
			
		</tbody>
	</table>

<script id="config_data" text="javacript/json" >
// "_accept":"accept测试属性",
// "_supported_format":"支持文件格式: 为空字符串,即值默认为accept测试属性 | 为false,即不支持",
// "_remark":"测试结果备注",
var data = [
	{
		"title":".** 直接文件名后缀",
		"lists":[
			{
				"accept":".gif",
				"chrome":{
					"supported_format":"",
					"tip":""
				},
				"safari":{
					"supported_format":false,
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			},{
				"accept":".less",
				"chrome":{
					"supported_format":"",
					"tip":""
				},
				"safari":{
					"supported_format":false,
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			},{
				"accept":".md",
				"chrome":{
					"supported_format":"",
					"tip":""
				},
				"safari":{
					"supported_format":false,
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			},{
				"accept":".jpg",
				"chrome":{
					"supported_format":".jpe,.jpeg,.jpg",
					"tip":""
				},
				"safari":{
					"supported_format":false,
					"tip":""
				},
				"firefox":{
					"supported_format":".jpe",
					"tip":""
				},
			},{
				"accept":".jpeg",
				"chrome":{
					"supported_format":".jpe,.jpeg,.jpg",
					"tip":""
				},
				"safari":{
					"supported_format":false,
					"tip":""
				},
				"firefox":{
					"supported_format":".jpeg",
					"tip":""
				},
			},{
				"accept":".jpe",
				"chrome":{
					"supported_format":".jpe,.jpeg,.jpg",
					"tip":""
				},
				"safari":{
					"supported_format":false,
					"tip":""
				},
				"firefox":{
					"supported_format":":*.jpe",
					"tip":""
				},
			},{
				"accept":".svg",
				"chrome":{
					"supported_format":"",
					"tip":"延迟6s左右"
				},
				"safari":{
					"supported_format":false,
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			},{
				"accept":".php",
				"chrome":{
					"supported_format":"",
					"tip":""
				},
				"safari":{
					"supported_format":false,
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			},{
				"accept":".pdf",
				"chrome":{
					"supported_format":"",
					"tip":""
				},
				"safari":{
					"supported_format":false,
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			},{
				"accept":".zip",
				"chrome":{
					"supported_format":"",
					"tip":""
				},
				"safari":{
					"supported_format":false,
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			},{
				"accept":".7z",
				"chrome":{
					"supported_format":"",
					"tip":""
				},
				"safari":{
					"supported_format":false,
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			},{
				"accept":".rar",
				"chrome":{
					"supported_format":"",
					"tip":"延迟较大"
				},
				"safari":{
					"supported_format":false,
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			},{
				"accept":".html",
				"chrome":{
					"supported_format":".html,.htm",
					"tip":""
				},
				"safari":{
					"supported_format":false,
					"tip":""
				},
				"firefox":{
					"supported_format":".html",
					"tip":""
				},
			},{
				"accept":".htm",
				"chrome":{
					"supported_format":".html,.htm",
					"tip":""
				},
				"safari":{
					"supported_format":false,
					"tip":""
				},
				"firefox":{
					"supported_format":".htm",
					"tip":""
				},
			}
		]
	},{
		"title":"image",
		"lists":[
			{
				"accept":"image/*",
				"chrome":{
					"supported_format":"",
					"tip":"chrome延迟"
				},
				"safari":{
					"supported_format":"",
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			},{
				"accept":"image/gif",
				"chrome":{
					"supported_format":"",
					"tip":""
				},
				"safari":{
					"supported_format":"",
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			},{
				"accept":"image/jpeg",
				"chrome":{
					"supported_format":".jpe,.jpeg,.jpg",
					"tip":""
				},
				"safari":{
					"supported_format":".jpe,.jpeg,.jpg",
					"tip":""
				},
				"firefox":{
					"supported_format":".jpg",
					"tip":""
				},
			},{
				"accept":"image/jpe",
				"chrome":{
					"supported_format":".jpe,.jpeg,.jpg",
					"tip":""
				},
				"safari":{
					"supported_format":false,
					"tip":""
				},
				"firefox":{
					"supported_format":false,
					"tip":""
				},
			},{
				"accept":"image/jpg",
				"chrome":{
					"supported_format":".jpe,.jpeg,.jpg",
					"tip":""
				},
				"safari":{
					"supported_format":".jpeg",
					"tip":""
				},
				"firefox":{
					"supported_format":".jpeg",
					"tip":""
				},
			},{
				"accept":"image/jp2",
				"chrome":{
					"supported_format":"",
					"tip":""
				},
				"safari":{
					"supported_format":"",
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			},{
				"accept":"image/png",
				"chrome":{
					"supported_format":"",
					"tip":""
				},
				"safari":{
					"supported_format":"",
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			},{
				"accept":"image/svg",
				"chrome":{
					"supported_format":false,
					"tip":""
				},
				"safari":{
					"supported_format":false,
					"tip":""
				},
				"firefox":{
					"supported_format":false,
					"tip":""
				},
			},{
				"accept":"image/bmp",
				"chrome":{
					"supported_format":"",
					"tip":""
				},
				"safari":{
					"supported_format":"",
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			},{
				"accept":"image/gif,image/jpg,image/jpeg,image/png",
				"chrome":{
					"supported_format":"",
					"tip":""
				},
				"safari":{
					"supported_format":"",
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			},{
				"accept":"image/vnd.dwg",
				"chrome":{
					"supported_format":false,
					"tip":""
				},
				"safari":{
					"supported_format":false,
					"tip":""
				},
				"firefox":{
					"supported_format":false,
					"tip":""
				},
			},{
				"accept":"image/vnd.dxf",
				"chrome":{
					"supported_format":false,
					"tip":""
				},
				"safari":{
					"supported_format":false,
					"tip":""
				},
				"firefox":{
					"supported_format":false,
					"tip":""
				},
			}
		]
	},{
		"title":"audio",
		"lists":[
			{
				"accept":"audio/*",
				"chrome":{
					"supported_format":"",
					"tip":"chrome延迟"
				},
				"safari":{
					"supported_format":"",
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			},{
				"accept":"audio/3gpp",
				"chrome":{
					"supported_format":"",
					"tip":""
				},
				"safari":{
					"supported_format":false,
					"tip":""
				},
				"firefox":{
					"supported_format":false,
					"tip":""
				},
			},{
				"accept":"audio/basic",
				"chrome":{
					"supported_format":".au",
					"tip":""
				},
				"safari":{
					"supported_format":".au",
					"tip":""
				},
				"firefox":{
					"supported_format":".au",
					"tip":""
				},
			},{
				"accept":"audio/mpeg",
				"chrome":{
					"supported_format":".mp2,.mp3",
					"tip":""
				},
				"safari":{
					"supported_format":".mp2,.mp3",
					"tip":""
				},
				"firefox":{
					"supported_format":".mp3",
					"tip":""
				},
			},{
				"accept":"audio/mp4",
				"chrome":{
					"supported_format":"",
					"tip":""
				},
				"safari":{
					"supported_format":"",
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			},{
				"accept":"audio/ac3",
				"chrome":{
					"supported_format":"",
					"tip":""
				},
				"safari":{
					"supported_format":"",
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			}
		]
	},{
		"title":"video",
		"lists":[
			{
				"accept":"video/*",
				"chrome":{
					"supported_format":"",
					"tip":"chrome延迟"
				},
				"safari":{
					"supported_format":"",
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			},{
				"accept":"video/3gpp",
				"chrome":{
					"supported_format":"",
					"tip":""
				},
				"safari":{
					"supported_format":false,
					"tip":""
				},
				"firefox":{
					"supported_format":false,
					"tip":""
				},
			},{
				"accept":"video/mpeg",
				"chrome":{
					"supported_format":".mpeg,.mpg",
					"tip":""
				},
				"safari":{
					"supported_format":".mpeg,.mpg",
					"tip":""
				},
				"firefox":{
					"supported_format":".mpeg",
					"tip":""
				},
			},{
				"accept":"video/mp4",
				"chrome":{
					"supported_format":"",
					"tip":""
				},
				"safari":{
					"supported_format":"",
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			}
		]
	},{
		"title":"text",
		"lists":[
			{
				"accept":"text/*",
				"chrome":{
					"supported_format":"",
					"tip":"延迟6s左右"
				},
				"safari":{
					"supported_format":"",
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			},{
				"accept":"text/css",
				"chrome":{
					"supported_format":"",
					"tip":""
				},
				"safari":{
					"supported_format":"",
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			},{
				"accept":"text/csv",
				"chrome":{
					"supported_format":"",
					"tip":""
				},
				"safari":{
					"supported_format":"",
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			},{
				"accept":"text/html",
				"chrome":{
					"supported_format":".htm,.html",
					"tip":""
				},
				"safari":{
					"supported_format":".htm,.html",
					"tip":""
				},
				"firefox":{
					"supported_format":".html",
					"tip":""
				},
			},{
				"accept":"text/htm",
				"chrome":{
					"supported_format":false,
					"tip":""
				},
				"safari":{
					"supported_format":false,
					"tip":""
				},
				"firefox":{
					"supported_format":false,
					"tip":""
				},
			},{
				"accept":"text/javascript",
				"chrome":{
					"supported_format":".js",
					"tip":"延迟6s左右"
				},
				"safari":{
					"supported_format":".js",
					"tip":""
				},
				"firefox":{
					"supported_format":".js",
					"tip":""
				},
			},{
				"accept":"text/rtf",
				"chrome":{
					"supported_format":"",
					"tip":""
				},
				"safari":{
					"supported_format":"",
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			},{
				"accept":"text/plain",
				"chrome":{
					"supported_format":".txt,.csv,.js,.php",
					"tip":""
				},
				"safari":{
					"supported_format":".txt",
					"tip":""
				},
				"firefox":{
					"supported_format":".txt",
					"tip":""
				},
			}
		]
	},{
		"title":"application",
		"lists":[
			{
				"accept":"application/*",
				"chrome":{
					"supported_format":"",
					"tip":"延迟6s左右"
				},
				"safari":{
					"supported_format":"",
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			},{
				"accept":"application/msword",
				"chrome":{
					"supported_format":".doc",
					"tip":""
				},
				"safari":{
					"supported_format":".doc",
					"tip":""
				},
				"firefox":{
					"supported_format":".doc",
					"tip":""
				},
			},{
				"accept":"application/xml-dtd",
				"chrome":{
					"supported_format":false,
					"tip":""
				},
				"safari":{
					"supported_format":false,
					"tip":""
				},
				"firefox":{
					"supported_format":false,
					"tip":""
				},
			},{
				"accept":"application/javascript",
				"chrome":{
					"supported_format":".js",
					"tip":"延迟"
				},
				"safari":{
					"supported_format":false,
					"tip":""
				},
				"firefox":{
					"supported_format":false,
					"tip":""
				},
			},{
				"accept":"application/json",
				"chrome":{
					"supported_format":"",
					"tip":""
				},
				"safari":{
					"supported_format":"",
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			},{
				"accept":"application/vnd.ms-powerpoint",
				"chrome":{
					"supported_format":".ppt",
					"tip":""
				},
				"safari":{
					"supported_format":".ppt",
					"tip":""
				},
				"firefox":{
					"supported_format":".ppt",
					"tip":""
				},
			},{
				"accept":"application/rtf",
				"chrome":{
					"supported_format":false,
					"tip":""
				},
				"safari":{
					"supported_format":false,
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			},{
				"accept":"application/xhtml+xml",
				"chrome":{
					"supported_format":".xhtml",
					"tip":""
				},
				"safari":{
					"supported_format":".xhtml",
					"tip":""
				},
				"firefox":{
					"supported_format":".xhtml",
					"tip":""
				},
			},{
				"accept":"application/vnd.ms-excel",
				"chrome":{
					"supported_format":".xls",
					"tip":""
				},
				"safari":{
					"supported_format":".xls",
					"tip":""
				},
				"firefox":{
					"supported_format":false,
					"tip":""
				},
			},{
				"accept":"application/xml",
				"chrome":{
					"supported_format":".xml,.xhtml",
					"tip":"延迟"
				},
				"safari":{
					"supported_format":".xml",
					"tip":""
				},
				"firefox":{
					"supported_format":".xml",
					"tip":""
				},
			},{
				"accept":"application/zip",
				"chrome":{
					"supported_format":"",
					"tip":"延迟"
				},
				"safari":{
					"supported_format":"",
					"tip":""
				},
				"firefox":{
					"supported_format":"",
					"tip":""
				},
			}
		]
	}
]
</script>
<script>
	data.map(function(pItem,pIndex){
		// '<tr><td colspan="6">'+pItem.title+`</td></tr>`
		// document.getElementById('tbody').appendChild()
		var pNode = document.createElement("tr");   
		pNode.setAttribute('style','background:#f1f1f1');   
		pNode.innerHTML = '<td>'+ ( pIndex + 1 ) +'</td>'
							+'<td colspan="8">'+pItem.title+'</td>';
		document.getElementById("tbody").appendChild(pNode);

		pItem.lists.map(function(sItem,sIndex){
			var sNode = document.createElement("tr");
			var chrome_supported_format_html = sItem.chrome.supported_format === false ? '<span class="error">不支持</span>' : sItem.chrome.supported_format ,
				chrome_tip_html = /\S/.test(sItem.chrome.tip) ? '<span class="info">'+sItem.chrome.tip+'</span>' : '',
				safari_supported_format_html = sItem.safari.supported_format === false ? '<span class="error">不支持</span>' : sItem.safari.supported_format ,
				safari_tip_html = /\S/.test(sItem.safari.tip) ? '<span class="info">'+sItem.safari.tip+'</span>' : '',
				firefox_supported_format_html = sItem.firefox.supported_format === false ? '<span class="error">不支持</span>' : sItem.firefox.supported_format ,
				firefox_tip_html = /\S/.test(sItem.firefox.tip) ? '<span class="info">'+sItem.firefox.tip+'</span>' : '';

			sNode.innerHTML = '<td>'+( pIndex + 1 )+'.'+( sIndex + 1 )+'</td>'
								+'<td> accept="'+sItem.accept+'" </td>'
								+'<td> <input type="file" accept="'+sItem.accept+'" /> </td>'
								+'<td>'+chrome_supported_format_html+'</td>'
								+'<td>'+chrome_tip_html+'</td>'
								+'<td>'+safari_supported_format_html+'</td>'
								+'<td>'+safari_tip_html+'</td>'
								+'<td>'+firefox_supported_format_html+'</td>'
								+'<td>'+firefox_tip_html+'</td>'
			document.getElementById("tbody").appendChild(sNode);
		})
	})
</script>

</body>
</html>
